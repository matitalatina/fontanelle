@import "tailwindcss";
@import "@fortawesome/fontawesome-svg-core/styles.css";

@plugin "daisyui" {
  themes:
    light --default,
    dark --prefersdark;
}

@plugin "daisyui/theme" {
  name: "aqua-light";
  default: true;
  prefersdark: false;
  color-scheme: "light";
  --color-base-100: oklch(97% 0.014 254.604);
  --color-base-200: oklch(95% 0.105 261.813);
  --color-base-300: oklch(96% 0.018 272.314);
  --color-base-content: oklch(35.519% 0.032 262.988);
  --color-primary: oklch(74% 0.16 232.661);
  --color-primary-content: oklch(29% 0.066 243.157);
  --color-secondary: oklch(52% 0.154 150.069);
  --color-secondary-content: oklch(100% 0 0);
  --color-accent: oklch(72.772% 0.149 33.2);
  --color-accent-content: oklch(0% 0 0);
  --color-neutral: oklch(35.519% 0.032 262.988);
  --color-neutral-content: oklch(98.462% 0.001 247.838);
  --color-info: oklch(62% 0.214 259.815);
  --color-info-content: oklch(98% 0.019 200.873);
  --color-success: oklch(64.8% 0.15 160);
  --color-success-content: oklch(0% 0 0);
  --color-warning: oklch(84.71% 0.199 83.87);
  --color-warning-content: oklch(0% 0 0);
  --color-error: oklch(71.76% 0.221 22.18);
  --color-error-content: oklch(0% 0 0);
  --radius-selector: 1rem;
  --radius-field: 0.5rem;
  --radius-box: 1rem;
  --size-selector: 0.25rem;
  --size-field: 0.25rem;
  --border: 1px;
  --depth: 1;
  --noise: 0;
}

@plugin "daisyui/theme" {
  name: "aqua-dark";
  default: false;
  prefersdark: true;
  color-scheme: "dark";
  --color-base-100: oklch(25% 0.09 281.288);
  --color-base-200: oklch(28% 0.091 267.935);
  --color-base-300: oklch(22% 0.091 267.935);
  --color-base-content: oklch(90% 0.058 230.902);
  --color-primary: oklch(74% 0.16 232.661);
  --color-primary-content: oklch(28% 0.091 267.935);
  --color-secondary: oklch(39% 0.095 152.535);
  --color-secondary-content: oklch(92% 0.084 155.995);
  --color-accent: oklch(93.426% 0.102 94.555);
  --color-accent-content: oklch(18.685% 0.02 94.555);
  --color-neutral: oklch(27% 0.146 265.522);
  --color-neutral-content: oklch(80% 0.146 265.522);
  --color-info: oklch(54.615% 0.215 262.88);
  --color-info-content: oklch(90.923% 0.043 262.88);
  --color-success: oklch(62.705% 0.169 149.213);
  --color-success-content: oklch(12.541% 0.033 149.213);
  --color-warning: oklch(66.584% 0.157 58.318);
  --color-warning-content: oklch(27% 0.077 45.635);
  --color-error: oklch(73.95% 0.19 27.33);
  --color-error-content: oklch(14.79% 0.038 27.33);
  --radius-selector: 1rem;
  --radius-field: 0.5rem;
  --radius-box: 1rem;
  --size-selector: 0.25rem;
  --size-field: 0.25rem;
  --border: 1px;
  --depth: 1;
  --noise: 0;
}

@theme {
  --background-image-gradient-radial: radial-gradient(var(--tw-gradient-stops));
  --background-image-gradient-conic: conic-gradient(
    from 180deg at 50% 50%,
    var(--tw-gradient-stops)
  );

  /* Semantic entity colors */
  --color-hue-bicycle: 253.91;
  --color-hue-playground: 77;
  --color-hue-fountain: 147.52;
  --color-hue-water-house: 253.91;
  --color-hue-toilet: 329.49;
  --color-hue-custom: 329.49;
  --color-bicycle: light-dark(
    oklch(0.5 0.1359 var(--color-hue-bicycle)),
    oklch(0.6 0.1359 var(--color-hue-bicycle))
  );
  --color-playground: light-dark(
    oklch(0.7 0.1463 var(--color-hue-playground)),
    oklch(0.6 0.1463 var(--color-hue-playground))
  );
  --color-fountain: light-dark(
    oklch(0.5 0.1403 var(--color-hue-fountain)),
    oklch(0.6 0.1403 var(--color-hue-fountain))
  );
  --color-water-house: light-dark(
    oklch(0.5 0.1359 var(--color-hue-water-house)),
    oklch(0.6 0.1359 var(--color-hue-water-house))
  );
  --color-toilet: light-dark(
    oklch(0.5 0.1601 var(--color-hue-toilet)),
    oklch(0.6 0.1601 var(--color-hue-toilet))
  );
  --color-custom: light-dark(
    oklch(0.5 0.1601 var(--color-hue-custom)),
    oklch(0.6 0.1601 var(--color-hue-custom))
  );
  --popup-text-mix-factor: 10%;
  --popup-alpha: 0.85;
}

.station-popup {
  --_color-hue: var(--color-hue-bicycle);
  --_color: var(--color-bicycle);

  .leaflet-popup-content-wrapper,
  .leaflet-popup-tip {
    backdrop-filter: blur(3px);
    background: oklch(
      from var(--color-base-100) l c var(--_color-hue) / var(--popup-alpha)
    );
  }
  .leaflet-popup-tip {
    background: oklch(
      from var(--color-base-100) l c var(--_color-hue) / calc(var(--popup-alpha) * 0.85)
    );
  }

  .leaflet-popup-content {
    color: color-mix(
      in oklab,
      var(--_color) var(--popup-text-mix-factor),
      var(--color-base-content)
    );
    margin: 1rem;
  }

  &.popup-bicycle {
    --_color-hue: var(--color-hue-bicycle);
    --_color: var(--color-bicycle);
  }

  &.popup-playground {
    --_color-hue: var(--color-hue-playground);
    --_color: var(--color-playground);
  }

  &.popup-fountain {
    --_color-hue: var(--color-hue-fountain);
    --_color: var(--color-fountain);
  }

  &.popup-water-house {
    --_color-hue: var(--color-hue-water-house);
    --_color: var(--color-water-house);
  }

  &.popup-toilet {
    --_color-hue: var(--color-hue-toilet);
    --_color: var(--color-toilet);
  }

  &.popup-custom {
    --_color-hue: var(--color-hue-custom);
    --_color: var(--color-custom);
  }
}

@utility text-balance {
  text-wrap: balance;
}

.map-fontanelle .leaflet-marker-icon.marker-cluster {
  color: black;
}

.leaflet-fade-anim
  .leaflet-popup.station-popup.custom-marker-popup:not(:has(button)) {
  transition: none;
}

.map-fontanelle .leaflet-left .leaflet-control.leaflet-control-zoom {
  margin-left: 1rem;
}

.map-fontanelle .leaflet-bottom .leaflet-control.leaflet-control-zoom {
  margin-bottom: 1rem;
}

.map-fontanelle .leaflet-marker-icon.extra-marker i.fas {
  padding-left: 1px;
}

.map-fontanelle .leaflet-right .leaflet-control-scale {
  margin-right: 5rem;
}

/* Hero Background Animations - Simplified */

@keyframes gradient-shift {
  0%,
  100% {
    background-position: 0% 50%;
  }

  50% {
    background-position: 100% 50%;
  }
}

@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }

  100% {
    transform: translateX(100vw);
  }
}

@keyframes bounce-down {
  0%,
  20%,
  50%,
  80%,
  100% {
    transform: translateY(0);
  }

  40% {
    transform: translateY(8px);
  }

  60% {
    transform: translateY(4px);
  }
}

@keyframes fade-pulse {
  0%,
  100% {
    opacity: 0.6;
  }

  50% {
    opacity: 1;
  }
}

@keyframes shine {
  0% {
    background-position: 200% 0%;
  }

  100% {
    background-position: -200% 0%;
  }
}

.animate-gradient-shift {
  background-size: 200% 200%;
  animation: gradient-shift 8s ease-in-out infinite;
}

.animate-shimmer {
  animation: shimmer 12s linear infinite;
}

.animate-bounce-down {
  animation: bounce-down 2s ease-in-out infinite;
}

.animate-fade-pulse {
  animation: fade-pulse 3s ease-in-out infinite;
}

.animate-shine {
  animation: shine 1.5s linear infinite;
}

.shine-text-primary {
  color: transparent;
  background-clip: text !important;
  -webkit-background-clip: text !important;
  background:
    radial-gradient(
        circle at center,
        color-mix(in srgb, var(--color-primary) 85%, transparent),
        transparent
      ) -200%
      50% / 200% 100% no-repeat,
    var(--color-primary-content);
}

/* Water Droplet Shape */
.water-droplet {
  width: 12px;
  height: 16px;
  border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
  position: relative;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
}

.droplet-highlight {
  opacity: 0.8;
  animation: highlight-pulse 3s ease-in-out infinite;
}

@keyframes highlight-pulse {
  0%,
  100% {
    opacity: 0.6;
    transform: translateX(-50%) scale(1);
  }

  50% {
    opacity: 0.9;
    transform: translateX(-50%) scale(1.1);
  }
}

/* Simplified Hero Background Elements - CSS Only */
.hero-droplets {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

.hero-droplet {
  position: absolute;
  width: 12px;
  height: 16px;
  background: rgba(var(--color-primary-rgb, 99 102 241) / 0.3);
  border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
  opacity: 0;
  animation: hero-float-down 15s linear infinite;
}

.hero-droplet-1 {
  left: 20%;
  animation-delay: 0s;
}

.hero-droplet-2 {
  left: 50%;
  animation-delay: 4s;
  transform: scale(0.8);
}

.hero-droplet-3 {
  left: 75%;
  animation-delay: 8s;
  transform: scale(1.2);
}

.hero-droplet-4 {
  left: 85%;
  animation-delay: 12s;
  transform: scale(0.6);
}

@keyframes hero-float-down {
  0% {
    transform: translateY(-10vh) translateX(0);
    opacity: 0;
  }

  10% {
    opacity: 0.4;
  }

  90% {
    opacity: 0.2;
  }

  100% {
    transform: translateY(110vh) translateX(10px);
    opacity: 0;
  }
}

/* Performance optimizations for animations */
.animate-gradient-shift,
.animate-shimmer,
.animate-bounce-down,
.animate-fade-pulse,
.animate-shine,
.hero-droplet {
  will-change: transform, opacity;
  backface-visibility: hidden;
  transform-style: preserve-3d;
}

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
  .animate-shimmer,
  .animate-bounce-down,
  .animate-shine,
  .hero-droplet {
    animation: none;
  }

  .animate-gradient-shift,
  .animate-fade-pulse {
    animation: fade-pulse 6s ease-in-out infinite;
  }
}
